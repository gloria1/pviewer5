<Window 
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:pviewer5"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="d" 
        x:Class="pviewer5.IPv4NameMapDialog"
        Title="IPv4NameMapDialog"
        WindowStartupLocation="CenterOwner"
        ShowInTaskbar="False" Height="468.667" Width="451">
    <Window.Resources>
        <local:IPv4ConverterNumberOnly x:Key="ipv4converternumberonly"/>
    </Window.Resources>
    <Grid x:Name="inmgrid"
		Margin="20,29,20,11.333"
		ShowGridLines="True">
        <Grid.ColumnDefinitions>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <GroupBox Header="Map of IPv4 Addresses To Aliases"
			Grid.Column="0"
			Grid.Row="0"
			Margin="5,5,5,5">
            <!-- added Enable*Virtualization lines based on http://www.elegant-software.net/2014/05/performance-of-the-wpf-datagrid.html -->
            <!-- added VirtualizingPanel lines based on http://www.codewrecks.com/blog/index.php/2012/07/06/wpf-datagrid-poor-performance-on-sorting/ -->
            <!-- added CanUserAddrRows="False" to prevent display of blank row at end-->
            <DataGrid
				x:Name="INMDG"
				EnableColumnVirtualization="True"
				EnableRowVirtualization="True"
				VirtualizingPanel.IsVirtualizing="True"
				VirtualizingPanel.VirtualizationMode="Recycling"
				AutoGenerateColumns="False"
				ItemsSource="{Binding Path=dgtable}"
				ItemStringFormat="x"
				CanUserAddRows="False">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="IPv4 Address">
                        <DataGridTextColumn.Binding>
                            <Binding Path="ipv4" Converter="{StaticResource ipv4converternumberonly}" >
                                <Binding.ValidationRules>
                                    <local:ValidateIPv4Number/>
                                </Binding.ValidationRules>
                            </Binding>
                        </DataGridTextColumn.Binding>
                    </DataGridTextColumn>
                    <DataGridTextColumn Header="Alias" Binding="{Binding alias}"/>
                </DataGrid.Columns>
                <DataGrid.ContextMenu>
                    <ContextMenu>
                        <MenuItem x:Name="inmaddrowmenuitem" Header="Add Row" Command="{x:Static local:IPv4NameMapDialog.inmaddrow}"/>
                        <MenuItem x:Name="inmdelrowmenuitem" Header="Delete Row"/>
                    </ContextMenu>
                </DataGrid.ContextMenu>
            </DataGrid>
        </GroupBox>
        <WrapPanel x:Name="buttonbar"
			Grid.ColumnSpan="2"
			Grid.Row="2"
			HorizontalAlignment="Right"
			Margin="5,5,5,5">
            <Button Content="Accept"
				Click="inmAccept"/>
            <Button Content="Cancel"
				Click="inmCancel"/>
            <Button Content="Save To Disk"
				Click="inmSaveToDisk"/>
            <Button Content="Load from Disk"
				Click="inmLoadFromDisk"/>
            <Button Content="Append From Disk"
				Click="inmAppendFromDisk"/>
        </WrapPanel>
    </Grid>
</Window>
