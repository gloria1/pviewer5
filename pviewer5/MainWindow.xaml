<Window x:Class="pviewer5.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:pviewer5"
        Title="MainWindow">

    <Window.Resources>
        <Style x:Key="DGCellStyle">
            <Setter Property="Control.FontSize" Value="9pt"/>
            <Setter Property="Control.FontFamily" Value="Courier New"/>
            <Setter Property="Control.HorizontalAlignment" Value="Right"/>
        </Style>
        <DataTemplate DataType="{x:Type local:DNSRR}">
            <TextBlock Text="{Binding Path=headerdisplayinfo}"/>
        </DataTemplate>
        <DataTemplate DataType="{x:Type local:H}">
            <TextBlock Text="{Binding Path=headerdisplayinfo}"/>
        </DataTemplate>
        <HierarchicalDataTemplate DataType="{x:Type local:DNSRRList}"
                                  ItemsSource="{Binding Path=Items}">
            <TextBlock Text="{Binding Path=headerdisplayinfo}"/>
        </HierarchicalDataTemplate>
        <HierarchicalDataTemplate DataType="{x:Type local:DNSH}"
                                  ItemsSource="{Binding Path=RRs}">
            <TextBlock Text="{Binding Path=headerdisplayinfo}"/>
        </HierarchicalDataTemplate>
        <HierarchicalDataTemplate DataType="{x:Type local:Packet}"
                                  ItemsSource="{Binding Path=phlist}">
            <TextBlock Text="{Binding Path=packetdisplayinfo}"/>
        </HierarchicalDataTemplate>
        <HierarchicalDataTemplate DataType="{x:Type local:G}"
                                  ItemsSource="{Binding Path=L}">
            <TextBlock Text="{Binding Path=groupdisplayinfo}"/>
        </HierarchicalDataTemplate>
        <HierarchicalDataTemplate DataType="{x:Type local:GList}"
                                  ItemsSource="{Binding Path=groups}">
            <TextBlock Text="{Binding Path=glistdisplayinfo}"/>
        </HierarchicalDataTemplate>

    </Window.Resources>

    <Grid Name="grid"
          Margin="20,20,20,20">
        <Grid.ColumnDefinitions>
            <ColumnDefinition/>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <WrapPanel Name="filebar"
                   Grid.Column="0"
                   Grid.Row="0"
                   Margin="5,5,5,5">
            <Button Content="Choose File"
                    Click="ChooseFile"/>
            <Label Content="Current File= "/>
            <Label Name="filename"
                   MinWidth="100"/>

        </WrapPanel>
        <WrapPanel Name="buttonbar"
                   Grid.Column="1"
                   Grid.Row="0"
                   Margin="5,5,5,5">
            <Button Content="Quick Filter"
                    Click="qfbutton"/>
            <Button Content="MAC Aliases"
                    Click="mnmbutton"/>
            <Button Content="IP4 Aliases"
                    Click="inmbutton"/>
       </WrapPanel>
        <WrapPanel Name="viewsettings"
                   Grid.Column="0"
                   Grid.ColumnSpan="2"
                   Grid.Row="1"
                   Margin="5,5,5,5">
            <CheckBox Name="displayaliascheckbox"
                      Content="Display Aliases"
                      Click="displayaliastoggle"
                      Margin="20,5"/>
            <CheckBox Name="displayIP4inhexcheckbox"
                      Content="Display IP4 in Hex"
                    Click="displayIP4inhextoggle"
                      IsChecked="True"
                      Margin="20,5"/>
            <CheckBox Name="showetherfields"
                      Content="Show Ethernet"
                    Click="showethertoggle"
                      Margin="20,5"/>
            <CheckBox Name="showarpbasicfields"
                      Content="Show ARP Basic Fields"
                    Click="showarpbasictoggle"
                      Margin="20,5"/>
            <CheckBox Name="showarpdetailfields"
                      Content="Show ARP Detail Fields"
                    Click="showarpdetailtoggle"
                      Margin="20,5"/>
            <CheckBox Name="showIP4basicfields"
                      Content="Show IP4 Basic Fields"
                    Click="showIP4basictoggle"
                      Margin="20,5"/>
            <CheckBox Name="showIP4detailfields"
                      Content="Show IP4 Detail Fields"
                    Click="showIP4detailtoggle"
                      Margin="20,5"/>
        </WrapPanel>
        <GroupBox Header="Packet Groups"
                  Name="grouptreebox"
                  Grid.Column="0"
                  Grid.ColumnSpan="2"
                  Grid.Row="2"
                  Margin="5,5,5,5">
            <TreeView Name="grouptree"
                        VirtualizingPanel.IsVirtualizing="True"
                        VirtualizingPanel.VirtualizationMode="Recycling"
                      ItemsSource="{Binding Path=grouplistlist}">
            </TreeView>
        </GroupBox>
        
        
        
        <GroupBox Header="Packets Excluded by QuickFilter"
                  Name="qfexcldg"
                  Grid.Column="0"  
                  Grid.ColumnSpan="2"
                  Grid.Row="3"
                  Margin="5,5,5,5">
            <!-- added Enable*Virtualization lines based on http://www.elegant-software.net/2014/05/performance-of-the-wpf-datagrid.html -->
            <!-- added VirtualizingPanel lines based on http://www.codewrecks.com/blog/index.php/2012/07/06/wpf-datagrid-poor-performance-on-sorting/ -->
            <DataGrid
                Name="QFExclGrid"
                EnableColumnVirtualization="True"
                EnableRowVirtualization="True"
                VirtualizingPanel.IsVirtualizing="True"
                VirtualizingPanel.VirtualizationMode="Recycling"
                AutoGenerateColumns="False"
                ItemsSource="{Binding Path=exclpkts}"
                CellStyle="{StaticResource DGCellStyle}">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Datalink" Binding="{Binding Path=phlist[0].DataLink}"/>
                    <DataGridTextColumn Header="Time" Binding="{Binding Path=phlist[0].Time}"/>
                </DataGrid.Columns>
            </DataGrid>
        </GroupBox>
<!--        <GroupBox Header="Packet Sets"
                  Name="packsetbox"
                  Grid.Column="0"
                  Grid.Row="1"
                  Margin="5,5,5,5">
            <ListBox ItemsSource="{Binding}"
                     IsSynchronizedWithCurrentItem="True"
                     MinHeight="40">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding Path=Info}"/>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </GroupBox>
        <GroupBox Header="Criteria of Current Set"
                  Name="currentcriteriabox"
                  Grid.Column="1"  
                  Grid.Row="1"
                  Margin="5,5,5,5">
            <ListBox ItemsSource="{Binding Path=/criteria}"
                     IsSynchronizedWithCurrentItem="True"
                     MinHeight="40">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding Path=CritInfo}"/>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </GroupBox>   -->
<!--        <GroupBox Header="Packets in Current Set"
                  Name="currentpacketdg"
                  Grid.Column="0"  
                  Grid.ColumnSpan="2"
                  Grid.Row="3"
                  Margin="5,5,5,5">
-->            <!-- added Enable*Virtualization lines based on http://www.elegant-software.net/2014/05/performance-of-the-wpf-datagrid.html -->
            <!-- added VirtualizingPanel lines based on http://www.codewrecks.com/blog/index.php/2012/07/06/wpf-datagrid-poor-performance-on-sorting/ -->
<!--            <DataGrid
                Name="PacketDataGrid"
                EnableColumnVirtualization="True"
                EnableRowVirtualization="True"
                VirtualizingPanel.IsVirtualizing="True"
                VirtualizingPanel.VirtualizationMode="Recycling"
                AutoGenerateColumns="False"
                ItemsSource="{Binding Path=/pkts}"
                CellStyle="{StaticResource DGCellStyle}">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Datalink" Binding="{Binding Path=ph.datalink}"/>
                    <DataGridTextColumn Header="Timesecs" Binding="{Binding Path=ph.timesecs}"/>
                    <DataGridTextColumn Header="Timeusecs" Binding="{Binding Path=ph.timeusecs}"/>
                    <DataGridTextColumn Header="Caplen" Binding="{Binding Path=ph.caplen}" />
                    <DataGridTextColumn Header="Wirelen" Binding="{Binding Path=ph.len}"/>
                </DataGrid.Columns>
                <DataGrid.ContextMenu>
                    <ContextMenu>
                        <MenuItem Name="tabulatecommandmenuitem" Header="Tabulate" Command="{x:Static local:MainWindow.tabulatecommand}"/>
                    </ContextMenu>
                </DataGrid.ContextMenu>

            </DataGrid>
        </GroupBox>    -->
    </Grid>


</Window>
